<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ccsss" name="author"/>
<link href="https://ccss17.github.io/security-tutorial/03-Computer2/" rel="canonical"/>
<link href="../../assets/images/bolt-solid.svg" rel="icon"/>
<meta content="mkdocs-1.2.2, mkdocs-material-7.2.6" name="generator"/>
<title>Day3 Computer Principle 2 - ccss17</title>
<link href="../../assets/stylesheets/main.802231af.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Nanum+Gothic:300,400,400i,700%7C&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Nanum Gothic";--md-code-font-family:""}</style>
<link href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" rel="stylesheet"/>
<link href="../../stylesheets/config.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="" data-md-color-primary="white" data-md-color-scheme="default" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#2">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="ccss17" class="md-header__button md-logo" data-md-component="logo" href="../.." title="ccss17">
<img alt="logo" src="../../assets/images/bolt-solid.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            ccss17
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Day3 Computer Principle 2
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="white" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="deep-purple" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1z"></path></svg>
</label>
</form>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
      ccss17
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Math/MathHistory/">
        Math
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../paper/1404.6388/">
        Paper
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Computer/nand2tetris/">
        Computer
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../ProgrammerBase/">
        ProgrammerBase
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../">
        security tutorial
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="ccss17" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="ccss17">
<img alt="logo" src="../../assets/images/bolt-solid.svg"/>
</a>
    ccss17
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        ccss17
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
        Math
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Math" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Math
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" id="__nav_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1">
        Foundation of Math
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Foundation of Math" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_1">
<span class="md-nav__icon md-icon"></span>
          Foundation of Math
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/MathHistory/">
        History of Math
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/Logic/FormalSystem/">
        Formal System
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/incompleteness/">
        Incompleteness theorem
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/turing/">
        Turing's proof
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/gentzen/">
        Consistency proof of Peano arithmetic
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2">
        Set Theory
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Set Theory" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
          Set Theory
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/Set/Set/">
        Set
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/Set/numbers/">
        Number Theory
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/Set/InfiniteSet/">
        Infinite Set
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/Set/ZFC/">
        ZFC axiom system
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/ArithmeticOperations/">
        Arithmetic Operations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/Polynomials/">
        Polynomials
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/HyperrealNumbers/">
        Hyperreal Numbers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/SurrealNumbers/">
        Surreal Numbers
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7" id="__nav_2_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_7">
        Linear Algebra
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Linear Algebra" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_7">
<span class="md-nav__icon md-icon"></span>
          Linear Algebra
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/LinearAlgebra/VectorSpace/">
        Vector Space
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/LinearAlgebra/LinearTransformation/">
        Linear Transformation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/LinearAlgebra/MatrixOperation/">
        Matrix Operation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/LinearAlgebra/Determinants/">
        Determinants
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/LinearAlgebra/Diagonalization/">
        Diagonalization
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/LinearAlgebra/InnerProductSpaces/">
        Inner Product Spaces
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Math/LinearAlgebra/CanonicalForms/">
        Canonical Forms
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
        Paper
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Paper" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Paper
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../paper/1404.6388/">
        Performance of Python runtimes on a non-numeric scientific code
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../paper/1102.1523/">
        The NumPy array: a structure for efficient numerical computation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../paper/facenet/">
        Facenet (2015)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../paper/quadruplet/">
        Quadruplet (2017)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../paper/blueborne/">
        BlueBorne
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
        Computer
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Computer" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Computer
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Computer/nand2tetris/">
        Nand to Tetris
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Computer/future/">
        Why the future doesn't need us
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Computer/Rust/">
        Rust Memo
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
        ProgrammerBase
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="ProgrammerBase" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          ProgrammerBase
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/">
        README
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2">
        Contents
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Contents" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
          Contents
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/01-Day1/readme/">
        Day 1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/02-Day2/readme/">
        Day 2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/03-Day3/readme/">
        Day 3
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/04-Day4/readme/">
        Day 4
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/05-Day5/readme/">
        Day 5
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/docker/">
        Docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/codingconvention/">
        Coding Convention
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/build/">
        Build System
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/information/">
        Information
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/git/">
        Git
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/vscode/">
        VSCode
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/markdown/">
        Markdown
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/tmux/">
        Tmux
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/vim/">
        Vim
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ProgrammerBase/cli/">
        CLI
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
        security tutorial
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="security tutorial" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          security tutorial
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
        README
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../01-Base/">
        Day1 Base
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../02-Computer1/">
        Day2 Computer Principle 1
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Day3 Computer Principle 2
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Day3 Computer Principle 2
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<!-- <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label> -->
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#2">
    어셈블리어 (2)
  </a>
<nav aria-label="어셈블리어 (2)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#shl-shr">
    비트 연산 (shl, shr)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    메모리 관리
  </a>
<nav aria-label="메모리 관리" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    가상 메모리 시스템의 메모리 영역
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    가상 메모리 영역과 물리 메모리 영역 확인해보기
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    스택 메모리 관리
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    기타 명령어
  </a>
<nav aria-label="기타 명령어" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#test">
    test 명령어
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sete">
    sete 명령어
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nop">
    nop 명령어
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    나머지 어셈블리어들은?
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb-1">
    gdb 사용법 (1)
  </a>
<nav aria-label="gdb 사용법 (1)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb-1-">
    gdb 명령어 (1) - 기초 명령어
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb-1-c">
    gdb 연습 (1) - 간단한 C 프로그램
  </a>
<nav aria-label="gdb 연습 (1) - 간단한 C 프로그램" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
    프로그램 준비 및 컴파일
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb">
    gdb 로 디버깅하기
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb_1">
    gdb 플러그인
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pwndbg">
    pwndbg
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
    함수 호출의 컴퓨터 내부적인 원리
  </a>
<nav aria-label="함수 호출의 컴퓨터 내부적인 원리" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#call-ret">
    서브루틴 호출(call, ret 명령어)
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
    함수 인자와 반환값 전달 원리
  </a>
<nav aria-label="함수 인자와 반환값 전달 원리" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#64">
    64 비트 시스템의 함수 인자/리턴값 전달
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#32">
    32 비트 시스템의 함수 인자/리턴값 전달
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
    과제
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../04-Reversing1/">
        Day4 Reversing 1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../05-Reversing2/">
        Day5 Reversing 2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../06-Exploit1/">
        Day6 Exploit 1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../07-Exploit2/">
        Day7 Exploit 2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../08-Exploit3/">
        Day8 Exploit 3
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../09-Exploit4/">
        Day9 Exploit 4
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../10-Pentesting/">
        Day10 Pentesting
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<!-- <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label> -->
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#2">
    어셈블리어 (2)
  </a>
<nav aria-label="어셈블리어 (2)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#shl-shr">
    비트 연산 (shl, shr)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    메모리 관리
  </a>
<nav aria-label="메모리 관리" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    가상 메모리 시스템의 메모리 영역
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    가상 메모리 영역과 물리 메모리 영역 확인해보기
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    스택 메모리 관리
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    기타 명령어
  </a>
<nav aria-label="기타 명령어" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#test">
    test 명령어
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sete">
    sete 명령어
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nop">
    nop 명령어
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    나머지 어셈블리어들은?
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb-1">
    gdb 사용법 (1)
  </a>
<nav aria-label="gdb 사용법 (1)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb-1-">
    gdb 명령어 (1) - 기초 명령어
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb-1-c">
    gdb 연습 (1) - 간단한 C 프로그램
  </a>
<nav aria-label="gdb 연습 (1) - 간단한 C 프로그램" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
    프로그램 준비 및 컴파일
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb">
    gdb 로 디버깅하기
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb_1">
    gdb 플러그인
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pwndbg">
    pwndbg
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
    함수 호출의 컴퓨터 내부적인 원리
  </a>
<nav aria-label="함수 호출의 컴퓨터 내부적인 원리" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#call-ret">
    서브루틴 호출(call, ret 명령어)
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
    함수 인자와 반환값 전달 원리
  </a>
<nav aria-label="함수 인자와 반환값 전달 원리" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#64">
    64 비트 시스템의 함수 인자/리턴값 전달
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#32">
    32 비트 시스템의 함수 인자/리턴값 전달
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
    과제
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Day3 Computer Principle 2</h1>
<h2 id="2">어셈블리어 (2)<a class="headerlink" href="#2" title="Permanent link">¶</a></h2>
<h3 id="shl-shr">비트 연산 (<code>shl</code>, <code>shr</code>)<a class="headerlink" href="#shl-shr" title="Permanent link">¶</a></h3>
<p>C 언어에서 비트 쉬프트 &lt;&lt; 과 &gt;&gt;, ~ 은 내부적으로 shl, shr, not 어셈블리어를 사용한다. </p>
<ul>
<li>
<p><code>shl &lt;dest&gt; &lt;src&gt;</code> : <code>&lt;dest&gt; = &lt;dest&gt; &lt;&lt; &lt;src&gt;</code> 의 의미이다. </p>
<ul>
<li>
<p>SHift Left 의 줄임말이다.</p>
</li>
<li>
<p><code>1</code> 번 쉬프트 하면 <code>2</code>배 커지고 <code>2</code> 번 쉬프트하면 <code>2^2</code> 배 커진다. </p>
</li>
<li>
<p><code>n</code> 번 쉬프트 하면 <code>2^n</code> 배 커진다. </p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>shl ax, 8  
shl eax, cl
</code></pre></div>
</li>
<li>
<p><code>shr &lt;dest&gt; &lt;src&gt;</code> : <code>&lt;dest&gt; = &lt;dest&gt; &gt;&gt; &lt;src&gt;</code> 의 의미이다.</p>
<ul>
<li>
<p>SHift Right 의 줄임말이다. </p>
</li>
<li>
<p><code>1</code> 번 쉬프트 하면 <code>2</code>배 나눠지고 <code>2</code> 번 쉬프트하면 <code>2^2</code> 배 나눠진다. </p>
</li>
<li>
<p><code>n</code> 번 쉬프트 하면 <code>2^n</code> 배 나눠진다. </p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>shr rcx, 32     
shr qword[qNum], cl   
</code></pre></div>
<ul>
<li>비트 이동 연산자는 다음 그림과 같이 동작한다. </li>
</ul>
<p><img alt="shift" src="https://user-images.githubusercontent.com/16812446/72771257-abbd3280-3c43-11ea-9b13-dc195ca35009.PNG"/></p>
</li>
</ul>
<h3 id="_1">메모리 관리<a class="headerlink" href="#_1" title="Permanent link">¶</a></h3>
<p>사용자가 프로그램을 실행하면 HDD 또는 SSD 에 저장되어 있던 프로그램의 바이너리가 RAM 으로 복사된다. RAM 에 로드된 프로그램을 프로세스라고 부르는데 CPU 는 RAM 에서 이 프로세스를 읽으면서 명령을 수행한다. </p>
<p><img alt="CPU execute" src="http://math.hws.edu/javanotes/c1/overview-fig1.PNG"/></p>
<p>현대의 컴퓨터는 프로그램을 HDD 또는 SSD 에서 RAM 으로 로드할 때 가상 메모리 시스템으로 관리한다. <code>64</code> 비트 시스템에서는 <code>0x0000000000000000</code> 부터 <code>0xffffffffffffffff</code> 까지의 가상 메모리 영역이 하나의 프로세스에 할당된다. 즉 실질적인 물리적 주소를 할당하는 것이 아니라 가상의 메모리 영역을 할당하는 것이다.</p>
<h4 id="_2">가상 메모리 시스템의 메모리 영역<a class="headerlink" href="#_2" title="Permanent link">¶</a></h4>
<p>프로그램 바이너리가 RAM 에 로드될 때 할당되는 가상 메모리는 두 영역으로 나뉜다. 하나는 커널 영역, 하나는 사용자 영역이다. 커널영역은 커널 관련 메모리가 로드되고 시스템 콜을 통해서만 접근할 수 있다. 실제 실행될 프로그램은 사용자 영역에 5 등분되서 로드되는데 스택Stack, 힙Heap, BSS 영역, Data 영역, Text 영역이 그것이다.</p>
<ul>
<li>
<p>스택Stack : 함수의 인자, 함수의 리턴 주소값, 지역 변수가 로드된다.</p>
</li>
<li>
<p>힙Heap : 동적 할당 메모리(malloc, new 등) 가 저장된다.</p>
</li>
<li>
<p>BSS 영역 : 초기화되지 않았거나 0 으로 초기화된 전역변수, static 변수들이 저장된다.</p>
</li>
<li>
<p>Data 영역 : 초기화된 전역변수, static 변수들이 Data 영역에 저장된다.</p>
</li>
<li>
<p>Text 영역 : 실행될 어셈블리어들이 저장된다. </p>
<p><img alt="memory layout" src="https://notes.shichao.io/tlpi/figure_6-1.png"/></p>
<ul>
<li>
<p>위의 그림처럼 가장 낮은 주소부터 Text 영역, Data 영역, BSS 영역, Heap 영역, Stack 영역, 그리고 메인함수의 인자와 환경변수, 가장 높은 주소에 커널 영역이 저장된다.</p>
</li>
<li>
<p>이 영역들은 모두 가상 메모리 영역이고 주소값도 가상 주소값이다.</p>
</li>
<li>
<p>게임이든, 문서작업이든, 카카오톡이든 컴퓨터의 어떤 프로그램이라도 이런 식으로 가상 메모리가 할당이 된다. </p>
<p><img alt="물리메모리" src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Virtual_memory.svg/379px-Virtual_memory.svg.PNG"/></p>
</li>
<li>
<p>그리고 그러한 가상 메모리 영역은 위와 같이 적절히 쪼개져서 물리 메모리, 즉 실제 메모리에 저장된다. 만약 실제 메모리가 부족할 경우 HDD 또는 SSD 를 사용하게 된다.</p>
</li>
<li>
<p>가상 메모리를 사용하게 되면 메모리 주소값을 일관되게 사용할 수 있고 만약 RAM 이 부족하면 HDD 또는 SSD 를 사용할 수 있게 된다.</p>
</li>
<li>
<p><code>적절히 쪼개진다(Paging 기법)</code> 는 것이 구체적으로 어떻게 되는 것인지 설명하려면 한 학기가 필요할테니 운영체제 강의를 들으시며 배우시길 바랍니다.</p>
</li>
</ul>
</li>
</ul>
<h4 id="_3">가상 메모리 영역과 물리 메모리 영역 확인해보기<a class="headerlink" href="#_3" title="Permanent link">¶</a></h4>
<p><a href="https://github.com/ccss17/test_virt_memory/blob/master/check_virtual_memory_structure.c">check_virtual_memory_structure.c</a></p>
<p>위 프로그램은 텍스트 영역, 데이터 영역, BSS 영역, 힙 영역, 스택 영역의 가상 메모리 주소와 그에 따른 물리 메모리 주소를 확인해볼 수 있는 간단한 C 프로그램이다.</p>
<div class="highlight"><pre><span></span><code>git clone https://github.com/ccss17/test_virt_memory
<span class="nb">cd</span> test_virt_memory
make
sudo ./check_virtual_memory_structure HELLO WOLRD
</code></pre></div>
<p>이러한 명령어로 컴파일 한 후 실행하여 실습을 해볼 수 있고 실행 결과는 다음과 같다. </p>
<p><img alt="addr-test" src="https://user-images.githubusercontent.com/16812446/73173290-623f7c80-4148-11ea-8b84-1caac1f4a712.png"/></p>
<p>가상 메모리 주소값은 <code>Text</code>, <code>Data</code>, <code>BSS</code>, <code>Heap</code>, <code>Stack</code> 순으로 저장되지만 실제 물리 메모리 주소값은 이 <code>5</code> 가지 메모리 섹션 순으로 저장되지는 않은 모습을 확인할 수 있다. 또한 메인 함수의 인자 개수를 나타내는 <code>argc</code> 는 스택의 맨 밑바닥에 있고 실제 인자를 가르키는 <code>argv</code> 배열은 스택보다 위에 있는 것을 알 수 있다. 따라서 메인 함수에 전달된 인자가 크면 클 수록 스택 영역 주소가 밑으로 할당될 것이다. </p>
<hr/>
<h3 id="_4">스택 메모리 관리<a class="headerlink" href="#_4" title="Permanent link">¶</a></h3>
<p>스택 메모리는 LIFO (Last-In, First-Out) 법칙으로 관리된다. 가장 마지막에 들어온 값이 가장 먼저 제거된다. </p>
<p><code>a = {7, 19, 37}</code> 이라는 배열을 생각해보자. </p>
<div class="highlight"><pre><span></span><code>push a[0]
push a[1]
push a[2]

pop a[0]
pop a[1]
pop a[2]
</code></pre></div>
<p>그리고 그 배열에 대하여 위와 같은 6개 명령어를 실행시켰다. </p>
<p><img alt="pushpop" src="https://user-images.githubusercontent.com/16812446/72771274-c2fc2000-3c43-11ea-8161-bc6040289e33.PNG"/></p>
<p>그러면 스택 메모리는 각각의 <code>6</code> 개의 명령어마다 위의 그림과 같이 변하고 배열 <code>a</code> 는 <code>{37, 19, 7}</code> 이 된다. <code>push</code> 로 값이 스택에 저장된 후 <code>pop</code> 으로 스택의 가장 위에 있는 값이 제거 되면서 저장되는 것이다. </p>
<ul>
<li>
<p><code>push &lt;op&gt;</code> : 전달된 값을 스택의 가장 위(<code>rsp</code>) 저장한다.</p>
<ul>
<li>
<p><code>push</code> 는 내부적으로 <code>rsp</code> 레지스터를 사용해서 스택의 최상위 주소를 알아내고 그 주소에 값을 저장한다. 그런데 <code>64</code> 비트 메모리 시스템의 스택에에서는 <code>8</code> 바이트 값이 저장되니까 스택이 <code>8</code> 만큼 커진다. 그래서 <code>rsp</code> 에 저장된 값이 <code>8</code> 을 감소된다. </p>
</li>
<li>
<p><code>rsp</code> 에 <code>8</code> 을 더하는 게 아니라 왜 뺄까? <a href="https://notes.shichao.io/tlpi/figure_6-1.png">메모리 레이아웃</a> 에서도 확인할 수 있듯이 스택은 높은 주소에서 낮은 주소로 확장되기 때문이다. </p>
<div class="highlight"><pre><span></span><code>push rax            ; rax 의 값을 스택에 저장하고 rsp 값에 8 을 뺀다. 
push qword [qVal]   ; qVal 의 메모리 주소에 있는 값을 스택에 저장하고 rsp 값에 8 을 뺀다.
</code></pre></div>
</li>
</ul>
</li>
<li>
<p><code>pop &lt;op&gt;</code> : 스택의 가장 위(<code>rsp</code>)에 있는 값을 <code>&lt;op&gt;</code> 에 저장하고 스택을 <code>8</code> 만큼 줄여준다.</p>
<ul>
<li>
<p>스택의 가장 위는 <code>rsp</code> 가 가르키고 있으니 결국 <code>rsp</code> 의 주소값에 있는 값을 <code>&lt;op&gt;</code> 에 저장한다는 말이다. 그리고 스택을 줄여주어야 하니 <code>rsp</code> 에 <code>8</code> 을 더한다. </p>
<div class="highlight"><pre><span></span><code>pop rax            ; rsp 가 가르키고 있는 스택의 최상위 주소의 데이터를 rax 에 저장하고 rsp 값에 8 을 더한다.
pop qword [qVal]   ; rsp 가 가르키고 있는 스택의 최상위 주소의 데이터를 qVal 의 메모리 주소에 에 저장하고 rsp 값에 8 을 더한다.
</code></pre></div>
</li>
</ul>
</li>
</ul>
<hr/>
<h3 id="_5">기타 명령어<a class="headerlink" href="#_5" title="Permanent link">¶</a></h3>
<h4 id="test">test 명령어<a class="headerlink" href="#test" title="Permanent link">¶</a></h4>
<ul>
<li>
<p><code>test &lt;op1&gt; &lt;op2&gt;</code> : <code>&lt;op1&gt;</code> 과 <code>&lt;op2&gt;</code> 의 AND 연산 결과가 <code>0</code> 일 때 FLAG 레지스터의 Zero Flag, 즉 ZF 를 <code>True</code> 로 세팅한다. </p>
<ul>
<li>한편 <code>je</code> 명령어는 ZF 가 True 로 세팅되어 있을 때 점프한다. 그래서 <code>je</code> 명령어는 jump-if-zero 와도 같은 말이다. <code>cmp</code> 명령어는 두 값을 비교한다고 이해했는데 실제로는 <code>cmp &lt;op1&gt; &lt;op2&gt;</code> 는 <code>&lt;op1&gt;</code> 에서 <code>&lt;op2&gt;</code> 를 빼서 결과값이 0 이면 FLAG 레지스터의 ZF 를 True 로 세팅한다. 그래서 이후에 <code>je</code> 명령어가 FLAG 레지스터의 ZF 플래그가 True 로 세팅되어 있으면 점프하게 되고 세팅되어 있지 않으면 점프하지 않는다. 반대로 <code>jne</code> 을 jump-if-not-zero 와도 같다고 이해하면 된다. </li>
</ul>
<div class="highlight"><pre><span></span><code>test eax, eax
je &lt;locatoin&gt;
</code></pre></div>
<ul>
<li>그래서 위와 같은 어셈블리어가 있을 때 <code>eax</code> 가 <code>0</code> 이 아니라면 <code>eax</code> 와 <code>eax</code> 의 AND 연산 결과는 <code>0</code> 이 아니다. 따라서 FLAG 레지스터의 ZF 플래그가 세팅되지 않을 것이고 <code>je</code> 는 점프하지 않는다. 한 마디로 <code>eax</code> 가 <code>0</code> 일 때 점프하라는 의미이다. </li>
</ul>
</li>
</ul>
<h4 id="sete">sete 명령어<a class="headerlink" href="#sete" title="Permanent link">¶</a></h4>
<ul>
<li><code>sete &lt;reg&gt;</code> : ZF (Zero Flag) 가 세팅되어 있다면 <code>&lt;reg&gt;</code> 를 <code>1</code> 로 만들고 그렇지 않으면 <code>0</code> 으로 만든다. </li>
</ul>
<h4 id="nop">nop 명령어<a class="headerlink" href="#nop" title="Permanent link">¶</a></h4>
<ul>
<li>
<p><code>nop</code> : 아무 일도 하지 않고 다음 명령어로 넘어간다. </p>
<ul>
<li>
<p><strong>NOP</strong> 코드는 다음에 배울 <strong>쉘코드</strong> 를 생성할 때 유용하게 사용된다. </p>
</li>
<li>
<p><strong>NOP</strong> 코드는 바이너리로 <code>0x90</code> 이다. <em>예외적으로 **NOP*</em> 코드만큼은 바이너리 값(0x90)을 암기할 필요가 있다.*</p>
</li>
</ul>
</li>
</ul>
<h4 id="_6">나머지 어셈블리어들은?<a class="headerlink" href="#_6" title="Permanent link">¶</a></h4>
<p><a href="http://www.jegerlehner.ch/intel/IntelCodeTable.pdf">http://www.jegerlehner.ch/intel/IntelCodeTable.pdf</a></p>
<p>이렇게 핵심 어셈블리어를 이해해보았기 때문에 나머지 어셈블리어도 스스로 충분히 이해할 수 있을 것이다. 모르는 어셈블리어가 나오면 구글에 검색해보아도 되고 위의 레퍼런스를 참고해도 된다. </p>
<hr/>
<h2 id="gdb-1">gdb 사용법 (1)<a class="headerlink" href="#gdb-1" title="Permanent link">¶</a></h2>
<p><strong>GNU Debugger</strong> 라고도 하는 <code>gdb</code> 란 대중적으로 많이 사용되는 디버깅 툴이다. 프로그램의 작동의 정확성과 논리적 오류를 검증하기 위한 과정을 일컫는 디버깅으로 소스코드로 프로그램을 정적으로 분석하는 것에서 더 나아가서 런타임상에서 프로그램을 동적으로 분석할 수 있다. 디버깅 툴은 <code>radare2</code>, <code>lldb</code>, <code>rr-project</code>, <code>ida</code>, <code>ollydbg</code> 등등이 있지만 이번에는 <code>gdb</code> 로 프로그램을 디버깅하는 가장 기초적인 방식을 알아보자. </p>
<h3 id="gdb-1-">gdb 명령어 (1) - 기초 명령어<a class="headerlink" href="#gdb-1-" title="Permanent link">¶</a></h3>
<ul>
<li>
<p><code>$ gdb &lt;program&gt;</code> : gdb 디버깅 시작 </p>
</li>
<li>
<p><code>(gdb) run</code> or <code>r</code> : 프로그램 시작 </p>
</li>
<li>
<p><code>(gdb) break &lt;location&gt;</code> or <code>b</code> : 브레이크포인트 지정 </p>
<ul>
<li>
<p><code>(gdb) break main</code> or <code>b main</code></p>
</li>
<li>
<p><code>(gdb) break 0x408571</code> or <code>b 0x408571</code></p>
</li>
</ul>
</li>
<li>
<p><code>(gdb) info breakpoints</code> or <code>i b</code> : 브레이크포인트 상태보기 </p>
</li>
<li>
<p><code>(gdb) delete breakpoints &lt;location&gt;</code> or <code>d br &lt;location&gt;</code> : 브레이크포인트 삭제 </p>
</li>
<li>
<p><code>(gdb) nexti</code> or <code>ni</code> : 하나의 명령어씩 실행. 단, 서브루틴으로 들어가지 않음 </p>
</li>
<li>
<p><code>(gdb) stepi</code> or <code>si</code> : 하나의 명령어씩 실행. 단, 서브루틴으로 들어감 </p>
</li>
<li>
<p><code>(gdb) next</code> or <code>n</code> : 소스코드 한 줄을 실행. 단, 서브루틴으로 들어가지 않음 </p>
</li>
<li>
<p><code>(gdb) step</code> or <code>s</code> : 소스코드 한 줄을 실행. 단, 서브루틴으로 들어감</p>
</li>
<li>
<p><code>(gdb) continue</code> or <code>c</code> : 브레이크 포인트를 무시하고 프로그램이 끝날 때가지 실행</p>
</li>
<li>
<p><code>(gdb) x/&lt;n-bytes&gt;x &lt;location&gt;</code> : 해당 주소로부터 메모리를 n byte 를 본다. </p>
<ul>
<li><code>(gdb) x/10x &lt;location&gt;</code> : 해당 주소로부터 메모리를 10 byte 를 본다. </li>
</ul>
</li>
<li>
<p><code>(gdb) disas &lt;function&gt;</code> : 함수의 어셈블리어를 본다. </p>
</li>
</ul>
<h3 id="gdb-1-c">gdb 연습 (1) - 간단한 C 프로그램<a class="headerlink" href="#gdb-1-c" title="Permanent link">¶</a></h3>
<h4 id="_7">프로그램 준비 및 컴파일<a class="headerlink" href="#_7" title="Permanent link">¶</a></h4>
<p>먼저 <a href="add.c">add.c</a> 을 저장합니다.</p>
<ul>
<li>
<p><a href="add.c">add.c</a> 소스코드 :</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n2</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">puts</span><span class="p">(</span><span class="s">"Hello World!"</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">n1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n2</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1024</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">"a + b = %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</li>
</ul>
<p>그리고 컴파일을 하고 실행해봅니다. </p>
<div class="highlight"><pre><span></span><code>$ gcc add.c -o add
$ ./add
a + <span class="nv">b</span> <span class="o">=</span> <span class="m">1032</span>
</code></pre></div>
<h4 id="gdb">gdb 로 디버깅하기<a class="headerlink" href="#gdb" title="Permanent link">¶</a></h4>
<p>이제 <code>gdb</code> 로 디버깅을 해봅시다. 다음 명령어로 디버깅을 실습해보죠. 그리고 다른 명령어들도 스스로 실행해보고 어떻게 작동하는지 이해해봅시다. </p>
<div class="highlight"><pre><span></span><code>$ gdb add
<span class="o">(</span>gdb<span class="o">)</span> i file      <span class="c1"># info files : 프로그램의 정보를 보는 명령 </span>
<span class="o">(</span>gdb<span class="o">)</span> i func      <span class="c1"># info functions : 프로그램의 함수들을 보는 명령 </span>
<span class="o">(</span>gdb<span class="o">)</span> b main      <span class="c1"># break main : main 함수에 브레이크포인트를 걸어서 main 함수가 시작될 때 프로그램이 멈춘다. </span>
<span class="o">(</span>gdb<span class="o">)</span> i b         <span class="c1"># info breakpoints : 현재 설정된 브레이크포인트를 본다.</span>
<span class="o">(</span>gdb<span class="o">)</span> d br <span class="m">1</span>      <span class="c1"># delete breakpoint 1 : 1 번 브레이크포인트를 삭제</span>
<span class="o">(</span>gdb<span class="o">)</span> b main      <span class="c1"># 다시 main 함수에 브레이크포인트 설정 </span>
<span class="o">(</span>gdb<span class="o">)</span> r           <span class="c1"># run : 프로그램을 실행 </span>
<span class="o">(</span>gdb<span class="o">)</span> disas main  <span class="c1"># main 함수의 어셈블리를 본다 </span>
<span class="o">(</span>gdb<span class="o">)</span> ni          <span class="c1"># nexti : 하나의 명령어 씩 실행. 단, 서브루틴으로 들어가지 않음. </span>
<span class="o">(</span>gdb<span class="o">)</span> ni          <span class="c1"># ni 를 계속 실행하면서 레지스터와 메모리가 변하는 상황을 관찰해본다. </span>
<span class="o">(</span>gdb<span class="o">)</span> si          <span class="c1"># stepi : 하나의 명령어 씩 실행. 단, 서브루틴으로 들어감.</span>
<span class="o">(</span>gdb<span class="o">)</span> si          <span class="c1"># si 를 실행하면 call 된 함수의 루틴으로 계속해서 들어간다. </span>
<span class="o">(</span>gdb<span class="o">)</span> c           <span class="c1"># continue : 다음 브레이크포인트까지 프로그램을 진행시킴. 브레이크포인트가 없으면 프로그램이 끝날 때까지 진행시킴. </span>
</code></pre></div>
<h2 id="gdb_1">gdb 플러그인<a class="headerlink" href="#gdb_1" title="Permanent link">¶</a></h2>
<p><code>gdb</code> 는 매우 유용한 디버거이지만 아무런 플러그인이 없는 바닐라 <code>gdb</code> 를 사용할 경우 디버깅이 너무 힘들어진다. 그래서 <code>gdb</code> 를 위한 <a href="https://awesomeopensource.com/projects/gdb">여러 오픈소스 프로젝트</a> 가 있는데 크게 <code>UI</code> 중심, <code>Exploit</code> 중심으로 나뉜다. </p>
<ul>
<li>
<p><code>Exploit</code> 중심 플러그인 : <code>gdb</code> 로 프로그램을 쉽게 해킹할 수 있는 기능을 제공한다. </p>
<ul>
<li>
<p><a href="https://github.com/jfoote/exploitable">https://github.com/jfoote/exploitable</a></p>
</li>
<li>
<p><a href="https://github.com/rogerhu/gdb-heap">https://github.com/rogerhu/gdb-heap</a></p>
</li>
</ul>
</li>
<li>
<p><code>UI</code> 중심 플러그인 : 디버깅 상태를 쉽게 이해할 수 있는 레이아웃으로 보여준다. </p>
<ul>
<li>
<p><a href="https://github.com/cyrus-and/gdb-dashboard">https://github.com/cyrus-and/gdb-dashboard</a></p>
</li>
<li>
<p><a href="https://github.com/snare/voltron">https://github.com/snare/voltron</a></p>
</li>
</ul>
</li>
<li>
<p><code>UI</code> 와 <code>Exploit</code> 기능을 균형있게 제공하는 플러그인</p>
<ul>
<li>
<p><a href="https://github.com/hugsy/gef">https://github.com/hugsy/gef</a></p>
</li>
<li>
<p><a href="https://github.com/pwndbg/pwndbg">https://github.com/pwndbg/pwndbg</a></p>
</li>
</ul>
</li>
</ul>
<p>이제부터 <code>pwndbg</code> 를 사용해서 디버깅을 해보자. (<em>개인적으로 레이아웃은 <code>voltron</code> 으로 쓰고 명령어 체계를 <code>pwndbg</code> 로 사용하는 것을 선호한다.</em>)</p>
<h2 id="pwndbg">pwndbg<a class="headerlink" href="#pwndbg" title="Permanent link">¶</a></h2>
<p><code>pwndbg</code> 환경에서 <code>gdb</code> 로 프로그램을 디버깅하기 시작하면 다음과 같은 화면을 볼 수 있습니다. </p>
<p><img alt="gdb" src="https://user-images.githubusercontent.com/16812446/72771285-cee7e200-3c43-11ea-867a-46b44f415bbd.png"/></p>
<ul>
<li>
<p><strong>RESIGSTERS</strong> 섹션은 현재 레지스터에 저장된 값들을 보여준다. </p>
</li>
<li>
<p><strong>DISASM</strong> 은 실행될 어셈블리어들을 보여준다. </p>
</li>
<li>
<p><strong>STACK</strong> 은 스택 메모리 영역을 보여준다. </p>
</li>
<li>
<p><strong>BACKTRACE</strong> 는 함수 호출 관계를 보여준다. </p>
</li>
</ul>
<hr/>
<h2 id="_8">함수 호출의 컴퓨터 내부적인 원리<a class="headerlink" href="#_8" title="Permanent link">¶</a></h2>
<h3 id="call-ret">서브루틴 호출(<code>call</code>, <code>ret</code> 명령어)<a class="headerlink" href="#call-ret" title="Permanent link">¶</a></h3>
<p><a href="add.c">add.c</a> 를 다시 살펴보자. 그리고 이 프로그램의 <code>main</code> 함수의 어셈블리어를 해부해보자. <code>objdump</code> 로 어셈블리어를 확인할 수 있다. </p>
<p></p><div class="highlight"><pre><span></span><code>$ objdump -M intel -D add <span class="p">|</span> grep <span class="se">\&lt;</span>main<span class="se">\&gt;</span> -A19
<span class="m">0000000000400588</span> &lt;main&gt;:
  ...
  <span class="m">400590</span>:   c7 <span class="m">45</span> f4 <span class="m">08</span> <span class="m">00</span> <span class="m">00</span> <span class="m">00</span>    mov    DWORD PTR <span class="o">[</span>rbp-0xc<span class="o">]</span>,0x8
  <span class="m">400597</span>:   c7 <span class="m">45</span> f8 <span class="m">00</span> <span class="m">04</span> <span class="m">00</span> <span class="m">00</span>    mov    DWORD PTR <span class="o">[</span>rbp-0x8<span class="o">]</span>,0x400
  40059e:   8b <span class="m">55</span> f8                mov    edx,DWORD PTR <span class="o">[</span>rbp-0x8<span class="o">]</span>
  4005a1:   8b <span class="m">45</span> f4                mov    eax,DWORD PTR <span class="o">[</span>rbp-0xc<span class="o">]</span>
  4005a4:   <span class="m">89</span> d6                   mov    esi,edx
  4005a6:   <span class="m">89</span> c7                   mov    edi,eax
  4005a8:   e8 b9 ff ff ff          call   <span class="m">400566</span> &lt;add&gt;
  4005ad:   <span class="m">89</span> <span class="m">45</span> <span class="nb">fc</span>                mov    DWORD PTR <span class="o">[</span>rbp-0x4<span class="o">]</span>,eax
  ...
</code></pre></div>
<div class="highlight"><pre><span></span><code>$ objdump -M intel -D add <span class="p">|</span> grep <span class="se">\&lt;</span>add<span class="se">\&gt;</span>: -A12
<span class="m">0000000000400566</span> &lt;add&gt;:
  ...
  <span class="m">400574</span>:   bf <span class="m">54</span> <span class="m">06</span> <span class="m">40</span> <span class="m">00</span>          mov    edi,0x400654
  <span class="m">400579</span>:   e8 b2 fe ff ff          call   <span class="m">400430</span> &lt;puts@plt&gt;
  40057e:   8b <span class="m">55</span> <span class="nb">fc</span>                mov    edx,DWORD PTR <span class="o">[</span>rbp-0x4<span class="o">]</span>
  <span class="m">400581</span>:   8b <span class="m">45</span> f8                mov    eax,DWORD PTR <span class="o">[</span>rbp-0x8<span class="o">]</span>
  <span class="m">400584</span>:   <span class="m">01</span> d0                   add    eax,edx
  <span class="m">400586</span>:   c9                      leave
  <span class="m">400587</span>:   c3                      ret
</code></pre></div>
<p><code>main</code> 함수에서 <code>call</code> 을 사용해서 <code>add</code> 함수로 뛰고 <code>add</code> 함수가 끝나면 <code>ret</code> 명령어로 다시 <code>main</code> 함수로 되돌아오게 된다. </p>
<ul>
<li>
<p><code>call &lt;location&gt;</code> : <strong><code>call</code> 의 다음 명령어의 주소값</strong> 을 스택에 <code>push</code> 하고, <code>&lt;location&gt;</code> 의 값을 <code>rip</code> 에 덮어쓴다.</p>
<ul>
<li>
<p>스택에 저장된 <strong><code>call</code> 의 다음 명령어의 주소값</strong> 을 <em>부모 함수의 실행흐름으로 되돌아갈 수 있는 표지판 역할*을 하기에 **리턴 주소값*</em> 이라 부른다.</p>
</li>
<li>
<p><strong>이 리턴주소값을 어떻게 조작하느냐에 따라 프로그램의 흐름도 조작하여 해커가 원하는대로 실행시킬 수 있기 때문에</strong> 리턴주소값은 해킹에서 중요하게 다뤄진다.</p>
</li>
<li>
<p>해커가 원하는 것은 해당 프로세스의 권한으로 실행하고 싶은 어셈블리어들을 실행하는 것이다. 때문에 프로세스의 실행을 조작해야 하는데 그 프로세스의 실행 흐름의 실체는 <code>rip</code> 레지스터의(<strong>PC</strong> ) 값이 가르키고 있는 명령어이다. 그리고 <code>rip</code> 를 바꿀 수 있는 방법 중 하나가 <code>ret</code> 명령어를 악용하는 것이다. </p>
</li>
</ul>
</li>
<li>
<p><code>ret</code> : 스택 맨 위(<code>rsp</code>)에 있는 값을 <code>pop</code> 해서 <code>rip</code> 레지스터에 덮어쓴다. </p>
<ul>
<li>
<p><code>call</code> 명령어가 스택에 저장해놓은 <strong>리턴 주소값</strong> 을 <code>pop</code> 해서 <code>rip</code> 레지스터에 덮어쓴다. 프로그램의 실행 흐름을 부모 함수의 실행 흐름으로 되돌리는 것이다. </p>
</li>
<li>
<p>해커는 해당 프로세스의 권한으로 자신이 원하는 동작을 행동하기 위해서 <code>rip</code> 를 바꾸기를 원한다. 때문에 <code>call</code> 명령어가 스택에 저장해두었던 <strong>리턴 주소값</strong> 을 해커가 실행하길 원하는 명령어가 있는 주소값으로 덮어쓴다.</p>
<ul>
<li><del>컴퓨터는 단지 표지판이 가르키는대로 이동하고 실행하고 이동하고 실행하기 때문에 <strong>리턴 주소값</strong> 을 해커가 조작했다 하더라도 컴퓨터는 단순히 그 주소값으로 이동하고 실행하기를 계속한다.</del></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="_9">함수 인자와 반환값 전달 원리<a class="headerlink" href="#_9" title="Permanent link">¶</a></h2>
<p><code>64</code> 비트 시스템과  <code>32</code> 비트 시스템에서의 함수 인자 전달 방식이 약간 다르기 때문에 <code>file</code> 명령어 등을 통해서 디버깅을 할 때 <code>64</code> 비트용 프로그램인지 <code>32</code> 비트용 프로그램인지 확인해야 한다. </p>
<ul>
<li>
<p><code>32</code> 비트 프로그램의 출력:</p>
<div class="highlight"><pre><span></span><code>$ file crackme0x00a
crackme0x00a: ELF <span class="m">32</span>-bit LSB executable, Intel <span class="m">80386</span>, ...
</code></pre></div>
</li>
<li>
<p><code>64</code> 비트 프로그램의 출력: </p>
<div class="highlight"><pre><span></span><code>$ file test64
test64: ELF <span class="m">64</span>-bit LSB shared object, x86-64, ...
</code></pre></div>
</li>
</ul>
<h3 id="64">64 비트 시스템의 함수 인자/리턴값 전달<a class="headerlink" href="#64" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>함수 리턴값 전달 : 함수의 반환값은 <code>rax</code> 레지스터에 저장되어 반환된다.</p>
</li>
<li>
<p>함수 인자 전달 : 함수 인자가 첫번째 인자부터 차례대로 <code>rdi</code>, <code>rsi</code>, <code>rdx</code>, <code>rcx</code>, <code>r8</code>, <code>r9</code> 에 저장되어 전달된다. </p>
<ul>
<li>
<p>인자가 <code>7</code> 개 이상일 경우 <code>7</code> 번째 인자부터는 어쩔 수 없이 레지스터보다 좀 더 느린 RAM 을  사용한다.</p>
</li>
<li>
<p><a href="many-add.c">many-add.c</a> 를 보자. 이 경우 <code>rdi</code> ← <code>1</code>, <code>rsi</code> ← <code>2</code>, <code>rdx</code> ← <code>3</code>, <code>rcx</code> ← <code>4</code>, <code>r8</code> ← <code>5</code>, <code>r9</code> ← <code>6</code> 이 저장되서 전달되고 <code>7</code> 은 메모리에 저장된 채로 <code>many_add</code> 함수로 인자가 전달될 것 같다. 정말 그렇게 되는지 확인해보자. </p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="kt">int</span><span class="w"> </span><span class="nf">many_add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n2</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n3</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n4</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n5</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n6</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n7</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n6</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n7</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">many_add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<ul>
<li><code>gcc many-add.c -o many-add</code> 로 컴파일후 <code>main</code> 함수를 해부해보자. </li>
</ul>
<div class="highlight"><pre><span></span><code>$ objdump -M intel -D many-add <span class="p">|</span> grep <span class="se">\&lt;</span>main<span class="se">\&gt;</span>: -A21
<span class="m">0000000000400567</span> &lt;main&gt;:
    ...
    40056f: 6a <span class="m">07</span>                   push   0x7
    <span class="m">400571</span>: <span class="m">41</span> b9 <span class="m">06</span> <span class="m">00</span> <span class="m">00</span> <span class="m">00</span>       mov    r9d,0x6
    <span class="m">400577</span>: <span class="m">41</span> b8 <span class="m">05</span> <span class="m">00</span> <span class="m">00</span> <span class="m">00</span>       mov    r8d,0x5
    40057d: b9 <span class="m">04</span> <span class="m">00</span> <span class="m">00</span> <span class="m">00</span>          mov    ecx,0x4
    <span class="m">400582</span>: ba <span class="m">03</span> <span class="m">00</span> <span class="m">00</span> <span class="m">00</span>          mov    edx,0x3
    <span class="m">400587</span>: be <span class="m">02</span> <span class="m">00</span> <span class="m">00</span> <span class="m">00</span>          mov    esi,0x2
    40058c: bf <span class="m">01</span> <span class="m">00</span> <span class="m">00</span> <span class="m">00</span>          mov    edi,0x1
    <span class="m">400591</span>: e8 <span class="m">90</span> ff ff ff          call   <span class="m">400526</span> &lt;many_add&gt;
    <span class="m">400596</span>: <span class="m">48</span> <span class="m">83</span> c4 <span class="m">08</span>             add    rsp,0x8
    ...
    4005a0: <span class="m">89</span> c6                   mov    esi,eax
    4005a2: bf <span class="m">44</span> <span class="m">06</span> <span class="m">40</span> <span class="m">00</span>          mov    edi,0x400644
    4005ac: e8 4f fe ff ff          call   <span class="m">400400</span> &lt;printf@plt&gt;
    ...
</code></pre></div>
<ul>
<li>
<p><code>0x400591</code> 의 <code>call many_add</code> 가 실행되기 전에 함수 인자가 차례로 저장되고 있다.</p>
</li>
<li>
<p>인자를 초기화한 후 <code>call</code> 은 다음 명령어의 주소값(<code>0x400596</code>)를 스택에 <code>push</code>하고 <code>add</code> 함수를 실행한다.</p>
</li>
<li>
<p><code>add</code> 함수가 끝나면 <code>ret</code> 명령어가 <code>call</code> 이 스택에 저장해놓은 리턴 주소값(<code>0x400596</code>)을 <code>pop</code> 해서 <code>rip</code> 에 덮어쓴다. </p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="32">32 비트 시스템의 함수 인자/리턴값 전달<a class="headerlink" href="#32" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>함수 리턴값 전달 : 함수의 반환값은 <code>eax</code> 레지스터에 저장되어 반환된다.</p>
</li>
<li>
<p>함수 인자 전달 : 인자를 차례대로 <code>esp, esp+4, esp+8, ..., esp+4n</code> 의 위치에 저장한 후 <code>call</code> 명령어로 함수를 호출한다. </p>
<ul>
<li>
<p><a href="many-add.c">many-add.c</a> 를 다시 보자. <code>32</code> 비트 시스템에서는 그냥 모든 인자들이 스택에 저장되어 <code>many_add</code> 함수로 인자가 전달될 것 같다. 정말 그렇게 되는지 확인해보자. </p>
<ul>
<li><code>gcc many-add.c -o many-add -m32</code> 로 컴파일후 <code>main</code> 함수를 해부해보자. <code>-m32</code> 옵션을 붙혀야 <code>32</code> 비트 시스템용 프로그램이 된다. </li>
</ul>
<div class="highlight"><pre><span></span><code>$ objdump -M intel -D many-add <span class="p">|</span> grep <span class="se">\&lt;</span>main<span class="se">\&gt;</span>: -A21
0804843a &lt;main&gt;:
...
804844b:    6a <span class="m">07</span>                   push   0x7
804844d:    6a <span class="m">06</span>                   push   0x6
804844f:    6a <span class="m">05</span>                   push   0x5
<span class="m">8048451</span>:    6a <span class="m">04</span>                   push   0x4
<span class="m">8048453</span>:    6a <span class="m">03</span>                   push   0x3
<span class="m">8048455</span>:    6a <span class="m">02</span>                   push   0x2
<span class="m">8048457</span>:    6a <span class="m">01</span>                   push   0x1
<span class="m">8048459</span>:    e8 ad ff ff ff          call   804840b &lt;many_add&gt;
804845e:    <span class="m">83</span> c4 1c                add    esp,0x1c
<span class="m">8048461</span>:    <span class="m">89</span> <span class="m">45</span> f4                mov    DWORD PTR <span class="o">[</span>ebp-0xc<span class="o">]</span>,eax
<span class="m">8048464</span>:    <span class="m">83</span> ec <span class="m">08</span>                sub    esp,0x8
<span class="m">8048467</span>:    ff <span class="m">75</span> f4                push   DWORD PTR <span class="o">[</span>ebp-0xc<span class="o">]</span>
804846a:    <span class="m">68</span> <span class="m">00</span> <span class="m">85</span> <span class="m">04</span> <span class="m">08</span>          push   0x8048500
804846f:    e8 6c fe ff ff          call   80482e0 &lt;printf@plt&gt;
    ...
</code></pre></div>
<ul>
<li>
<p><code>0x8048459</code> 의 <code>call many_add</code> 가 실행되기 전에 함수 인자가 차례로 스택에 저장되고 있다.</p>
</li>
<li>
<p>인자를 초기화한 후 <code>call</code> 은 다음 명령어의 주소값(<code>0x804845e</code>)를 스택에 <code>push</code>하고 <code>add</code> 함수를 실행한다.</p>
</li>
<li>
<p><code>add</code> 함수가 끝나면 <code>ret</code> 명령어가 <code>call</code> 이 스택에 저장해놓은 리턴 주소값(<code>0x804845e</code>)을 <code>pop</code> 해서 <code>rip</code> 에 덮어쓴다. </p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<h3 id="_10">과제<a class="headerlink" href="#_10" title="Permanent link">¶</a></h3>
<p><a href="HW-3/">HW-3.md</a> 파일의 지시를 따르는 것이 과제이다. (발표를 하며 설명을 할 수 있어야 합니다)</p>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" data-md-state="hidden" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg>
            Back to top
          </a>
</main>
<!-- 
<footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
      </div>
      
    </div>
  </div>
</footer> -->
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.top", "header.autohide"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
<script src="../../assets/javascripts/bundle.756773cc.min.js"></script>
<script src="../../javascripts/highlight.min.js"></script>
<script src="../../javascripts/config.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"></script>
<script src="../../javascripts/b27b3e6448.js"></script>
</body>
</html>