# 확률론

!!! def ""

    이산수학(discrete mathematics) : 실수라는 마당(field) 위에서 전개되는 것이 아닌 자연수라는 이산(discrete)적 마당 위에서 전개되는 수학이다.

- 모든 컴퓨터 프로그램은 항상 이산적 알고리즘에 의존한다. 따라서 컴퓨터 의존성이 심해질수록 이산수학의 중요도도 높아진다.

- 자연수라는 이산적 기반 위에서의 주요한 화제는 "특정 조건을 만족시키는 배열이 존재하는가? 존재하면 몇 개나 존재하는가?" 이다. 

    - 예시 

        집합 $M=\{1,2,3,4,5,6,7,8\}$ 의 부분집합의 원소가 $3$ 개인 집합의 개수를 구하자. 

        > **하지만 직접 구하는 계산이 복잡해보인다. 이 경우 주어진 집합을 적당한 부분집합으로 단순화시키고 가변요소를 불변요소로 상정한다. 그래도 주어진 계산이 복잡하면 가변요소들을 끝없이 단순화하고 일부의 가변요소를 불변요소로 가정하자. 그러면 어느시점에서 계산이 단순한 연산으로 처리할 수 있을만큼 간단해진다.**

        > **왜냐하면 불변요소는 더 이상 사고영역에 포함시키지 않아도 되기 때문이다. 이 시점에서 그것은 바꿀 수 없는 것이기 때문에 더 이상 우리가 관여할 바가 아니다. 왜냐하면 불변하는 존재이므로 목적을 위하여 대상을 바꾸는 것에 있어 그것을 포함시키는 것은 무의미하기 때문이다.**

        > **단순해진 가변요소에 대한 계산이 끝나면 지금까지 수차례의 가정이 있어왔기 때문에 이 단순한 연산을 불변요소로 상정한 가변요소들에 원래의 가변성을 다시 부여하면서 일반화시켜 나가야 한다. 왜냐하면 처음의 문제로 되돌아감으로써 현실성을 부여해야 하기 때문이다. 가변요소들을 불변하다고 상정한 것에 대한 해결은 인공적이고 안전한 실험실에 적용되는 것에 불과하다. 그러나 그 과정은 한 단계 한 단계씩 복잡해지기 때문에 일반화가 불가능할 정도로 매우 복잡한 연산과 알고리즘을 요구당하지는 않을 것이다.**

        그러면 이제 집합 $M$ 을 다음 두 집합으로 분할(partition) 하자.

        $$ A = \{1,2,3,4\}, B=\{5,6,7,8\} $$

        이때 분할된 부분집합을 기반으로 집합 $M$ 에서 원소 $3$ 개를 택하여 부분집합을 만드는 목적도 다음과 같이 분할 할 수 있다.

        1. $A$ 에서 $3$ 개의 원소를 택할 경우

        2. $A$ 에서 $2$ 개의 원소를, $B$ 에서 $1$ 개의 원소를 택할 경우

        3. $A$ 에서 $1$ 개의 원소를, $B$ 에서 $2$ 개의 원소를 택할 경우

        4. $B$ 에서 $3$ 개의 원소를 택할 경우

        이제 분할된 각각의 경우를 계산한 다음 일반화시키기만 하면된다. 그런데 분할된 경우들을 보면 처음의 집합보다 더 단순해졌기 때문에 계산이 훨씬 쉬워졌다는 것을 알 수 있다. 

        첫번째 분할 목적을 해결할 때에 나머지 $3$ 가지 경우는 불변요소가 된다. 따라서 최소한 이 시점에서 더 이상 불변요소를 고려하지 않아도 된다. 두번째 분할 목적을 해결할 때에도 나머지 $3$ 가지 분할목적들은 고려하지 않아도 된다. 그리고 집합 $A$ 에서 $2$ 개의 원소의 부분집합의 경우의 수를 구할 때 집합 $B$ 도 불변요소가 되며 고려하지 않아도 된다. 

        각각의 경우를 다 계산하였다면 일반화를 시켜야 한다. 각각의 분할 목적에 대한 계산들은 인공적인 실험실에 적용되는 계산에 불과한다. 이 상황에서 일반화란 단순히 모든 분할 목적들의 경우의 수를 더하는 것이다.

    > **위 예시에서 알 수 있는 것은 이산수학에서 가장 중요한 것은 순열, 조합, 명제 같은 것들이 아니라 현실 문제를 분석하여 어떻게 더 작은 요소들로 나누고 일부의 요소들을 불변하다고 상정하느냐 이다. 그렇게 함으로써 문제를 끝없이 단순화시키고 더 이상 단순화시킬 수 없을 때까지 단순화시키면, 물론 인공적이고 안전한 실험실의 상황과 비슷하겠지만 계산은 매우 단순해질 것이다. 이후에는 차례차례 안전한 실험실에서 벗어나서(불변이라고 상정했던 가변요소에 다시 가변성을 부여함으로써) 현실문제로 회귀시켜서 일반적인 해결을 구하는 것이다.**

    - 아인슈타인은 이렇게 말했다. **"문제를 단순화할 수 없을 때까지 단순화시켜라."**

    - 그러나 그는 또 이렇게 말했다. "모든 사람은 세상을 자기에게 유리한 방식으로 단순화시킨 후 이해하려 하고 그렇게 훼손된 세상을 자기 마음 속에 들여서 현실 세상을 대체하려고 한다."

!!! def ""

    시행(experiment) : 같은 조건에서 반복할 수 있고 그 결과가 우연에 의하여 좌우되는 실험이나 관찰이다.

- 예시 

    주사위를 던지면 $1$ 부터 $6$ 까지의 숫자가 나온다. 

    이 시행은 같은 조건에서 반복할 수 있고 그 결과가 우연에 의하여 좌우되므로 시행이다.

!!! def ""

    표본공간(sample space) : 어떤 시행에서 일어날 수 있는 모든 가능한 결과 전체의 집합이다.

- 예시 

    각 면에 $1$ 에서 $4$ 까지 적혀있는 정사면체를 던져 바닥에 닿는 수를 구하는 시행에 대하여 

    표본공간 $S$ 와 짝수가 나오는 사건 $A$ 는 다음과 같다. 

    $$ S = \{1,2,3,4\}, A = \{2,4\} $$

!!! def ""

    사건(event) : 시행에서 관찰자가 관심을 갖는 결과의 집합이다.

- 같은 조건에서 실험이나 관찰에 의하여 나타나는 결과이다. 

- 예시

    주사위를 한 번 던지는 시행에서 홀수의 눈이 나오는 사건은 $\{1,3,5\}$ 이다. 

- 이 예시와 정의에서 알 수 있듯 사건은 집합으로 나타내고 집합과 매우 유사한 성질을 갖는다.

!!! def ""

    $\sim$ 사건 : 어떤 시행에서 $\sim$ 을 만족하는 결과의 집합이다.

- 즉 표본공간의 부분집합이다.

!!! def ""

    근원사건(fundamental event) : 어떤 시행에서 얻을 수 있는 사건 중 더 이상 나눌 수 없는 기본적인 사건이다.

- 즉 표본공간의 부분집합 중 원소가 $1$ 개 인 집합이다. 

- 예시 

    주사위를 던지는 시행에서 표본공간 $S$ 는 

    $$ S = \{1,2,3,4,5,6\} $$ 

    에서 사건 $\{1\}$ 은 원소가 $1$ 인 부분집합이므로 근원사건이다.

!!! def ""

    전사건(whole event) : 어떤 시행에서 반드시 일어나는 사건이다.

- 즉 표본공간이다. 

- 예시 

    주사위를 던지는 시행에서 "$6$ 이하의 눈이 나오는 사건" 은 전사건이다.

!!! def ""

    공사건 : 어떤 시행에서 절대 일어날 수 없는 사건이다.

- 즉 공집합이다. 

- 예시 

    주사위를 던지는 시행에서 "$7$ 이상의 눈이 나오는 사건" 은 공사건이다.

!!! def ""

    경우의 수 : 어떤 사건이 일어날 수 있는 경우의 가짓수를 수로 표현한 것이다.

## 합사건, 곱사건, 여사건

!!! def ""

    합사건(sum event) : 두 사건 $A, B$ 에 대하여 $A$ 또는 $B$ 가 일어나는 사건을 $A$ 와 $B$ 의 합사건이라 한다.

- 기호로 

    $$ A \cup B $$

    로 나타낸다.

- 예시 

    주사위를 던지는 시행에서 다음 두 사건 $A, B$ 를 생각하자. 

    $$ A = \{1,2,4\}, B = \{1,3,5\} $$

    $A$ 는 $4$ 의 약수가 나오는 사건, $B$ 는 홀수가 나오는 사건으로 해석할 수 있다.

    $A$ 또는 $B$ 가 일어나는 사건은 두 사건 $A, B$ 의 합사건이므로 

    $$ \therefore  A \cup B = \{1,2,4\} \cup \{1,3,5\} = \{1,2,3,4,5\} $$

    이다.

!!! def ""

    곱사건(product event) : 두 사건 $A, B$ 에 대하여 $A, B$ 가 동시에 일어나는 사건을 $A$ 와 $B$ 의 곱사건이라 한다.

- 기호로 

    $$ A \cap B $$

    로 나타낸다.

- 예시 

    주사위를 던지는 시행에서 다음 두 사건 $A, B$ 를 생각하자. 

    $$ A = \{1,2,4\}, B = \{1,3,5\} $$

    $A$ 는 $4$ 의 약수가 나오는 사건, $B$ 는 홀수가 나오는 사건으로 해석할 수 있다.

    $A$ 와 $B$ 가 동시에 일어나는 사건은 두 사건 $A, B$ 의 곱사건이므로 

    $$ \therefore  A \cap B = \{1,2,4\} \cap \{1,3,5\} = \{1\} $$

    이다.

!!! def ""

    배반사건 : $A, B$ 가 동시에 일어나지 않을 때 $A$ 와 $B$ 를 배반사건이라 한다.

- 즉 배반사건이란 

    $$ A \cap B = \emptyset $$

    일 때의 $A, B$ 의 관계를 뜻한다.

- 예시 

    주사위를 던지는 시행에서 다음 두 사건 $A, B$ 를 생각하자. 

    $$ A = \{1,2,4\}, B = \{1,3,5\} $$

    $A$ 는 $4$ 의 약수가 나오는 사건, $B$ 는 홀수가 나오는 사건으로 해석할 수 있다.

    $A$ 와 $B$ 가 동시에 일어나지 않는 사건은 두 사건 $A, B$ 의 배반사건이므로 

    $$ A \cap B = \emptyset $$

    일 때 $A$ 와 $B$ 를 배반이라 한다.

    하지만 실제로는

    $$ A \cap B = \{1\} \neq \emptyset $$

    이므로 $A$ 와 $B$ 는 배반이 아니다.

!!! def ""

    여사건(complementary event) : 두 사건 $A, B$ 에 대하여 $A$ 가 일어나지 않는 사건을 $A$ 의 여사건이라 한다.

- 기호로 

    $$ A ^{C}$$

    로 나타낸다.

- 전사건은 공사건의 여사건이고 공사건은 전사건의 여사건이다. 

    즉, 

    $$ \emptyset ^{C} = S, S ^{C} = \emptyset $$

    이다. 

- 예시 

    주사위를 던지는 시행에서 다음 두 사건 $A, B$ 를 생각하자. 

    $$ A = \{1,2,4\}$$

    $A$ 는 $4$ 의 약수가 나오는 사건으로 해석할 수 있다.

    이때 사건 $A$ 에 대하여 $A$ 가 일어나지 않는 사건, 즉 여사건은 

    $$ A ^{C} = S - A = \{1,2,3,4,5,6\} - \{1,2,4\} = \{3,5,6\} $$

    이다.

## 경우의 수 계산

!!! def ""

    합의 법칙(rule of sum) : 사건 $A_1, A_2, \dots, A_n$ 이 동시에 일어나지 않을 때
    
    사건 $A_1, A_2, \dots, A_n$ 이 일어나는 경우의 수가 각각 $a_1, a_2, \dots, a_n$ 이면 
    
    사건 "$A_1$, 또는 $A_2$, 또는 $\dots$ 또는 $A_n$" 이 일어나는 모든 경우의 수는 
    
    $$ \boxed{\sum_{k=1}^{n}a_k = a_1 + a_2 + \dots + a_n } $$
    
    이다.

- 독립사건들이 서로 영향을 주지 않을 때 모든 경우의 수를 계산한다면, 독립사건들의 경우의 수를 합하여 계산한다.

- 사건은 시행 결과의 집합, 즉 집합이다.

    따라서 "$A \cap B = \emptyset$ 이면 $n(A \cup B) = n(A) + n(B)$ 이다.

- 예시 

    주사위가 $1$ 또는 $6$ 이 나올 경우의 수는 $1$ 나올 경우, $6$ 이 나올 경우로 $1 + 1 = 2$ 가지이다. 

- 예시 

    주사위 $2$개를 던져서 나온 눈의 수의 합이 $7$ 또는 $8$ 인 경우의 수를 구하기 위해서는 두 독립사건 '주사위의 합이 $7$ 이 될 경우의 수'와 '주사위의 합이 $8$ 이 될 경우의 수'의 경우의 수를 합하면 된다.

!!! def ""

    곱의 법칙(rule of product) : 사건 $A_1, A_2, \dots, A_n$ 이 연이어 일어날 때
    
    사건 $A_1, A_2, \dots, A_n$ 이 일어나는 경우의 수가 각각 $a_1, a_2, \dots, a_n$ 이면
    
    사건 $A_1, A_2, \dots, A_n$ 이 연이어 일어나는 모든 경우의 수는 
    
    $$ \boxed{\displaystyle \prod_{k=1}^{n}a_k = a_1 \times  a_2 \times  \dots \times  a_n } $$
    
    이다.

- 다시 말하지만 사건은 시행 결과의 집합이다. 

    그러면 두 사건 집합 $A=\{x_1, \dots, x_m\}, B=\{y_1, \dots, y_n\}$ 이 있다고 생각할 때 연이어 발생하는 사건을 각 집합의 원소의 순서쌍 $(x, y)$ 으로 생각할 수 있다.

    즉 곱의 법칙은 두 사건 집합 $A, B$ 의 곱집합 $A \times B = \{(x, y) | x \in A, y \in B\}$ 이다. 그리고 곱집합에 대하여 다음 식이 성립한다. 

    $$ n(A \times B)  = n(A) \times n(B) $$

    이것을 일반화한 것이 곱의 법칙의 정의 $\displaystyle \prod_{k=1}^{n}a_k$ 이다. 

- 사건들이 서로 영향을 줄 때 모든 경우의 수를 계산한다면, 사건들의 경우의 수를 곱하여 계산한다.

- 예시 

    주사위를 $2$ 번 던져 짝수가 나온 후 홀수가 나올 경우의 수는 짝수가 나올 경우의 수 $3$ 가지 ($2, 4, 6$)에 홀수가 나올 경우의 수 $3$ 가지($1, 3, 5$) 를 곱하여 $3 \times 3 = 9$ 이다.

!!! def ""

    합의 법칙의 역연산 : 사건 $A_1, A_2, \dots, A_n$ 이 동시에 일어나지 않을 때
    
    사건 $A_1, A_2, \dots, A_n$ 이 일어나는 경우의 수가 각각 $a_1, a_2, \dots, a_n$ 이면 
    
    사건 "$A_1$, 또는 $A_2$, 또는 $\dots$ 또는 $A_n$" 에서 특정 사건 $A_i(1 \leq i \leq n)$ 가 일어나지 않는 경우의 수는 
    
    $$ \boxed{\sum_{k=1}^{n}a_k - a_i = (a_1 + a_2 + \dots + a_n) - a_i } $$
    
    이다.

- 즉 전체 사건에서 특정 사건의 경우의 수를 빼는 것(덧셈의 역연산)으로써 

    합의 법칙에서 특정 사건이 일어나는 것을 제거하기 위하여 사용하면 된다.

!!! def ""

    곱의 법칙의 역연산 : 사건 $A_1, A_2, \dots, A_n$ 이 연이어 일어날 때
    
    사건 $A_1, A_2, \dots, A_n$ 이 일어나는 경우의 수가 각각 $a_1, a_2, \dots, a_n$ 이면
    
    사건 $A_1, A_2, \dots, A_n$ 에서 특정 사건 $A_i(1 \leq i \leq n)$ 가 일어나지 않는 경우의 수는 
    
    $$ \boxed{\frac{\displaystyle \prod_{k=1}^{n}a_k}{a_i} = \frac{a_1 \times  a_2 \times  \dots \times  a_n}{a_i} } $$
    
    이다.

- 즉 전체 사건에서 특정 사건의 경우의 수를 나누는 것(곱셈의 역연산)으로써 

    합의 법칙에서 특정 사건이 일어나는 것을 제거하기 위하여 사용하면 된다.

!!! def ""

    계승(factorial) : $1$ 부터 $n$ 까지의 모든 자연수의 곱
    
    $$ \boxed{n! = n(n-1)(n-2) \times \dots \times 2 \times 1 = \prod_{k=1}^{n}k } $$
    
    을 $n$ 의 계승이라 한다.

- 기호로 $n!$ 로 나타낸다.

- $0! = 1$ 로 정의한다. 

- 자연수를 정의역으로 가지는 감마함수이다. 

    - 감마함수는 계승 함수의 정의역을 복소수로 확장시킨 함수다. 

## 순열

!!! def ""

    순열(비복원추출, permutation)  : 서로 다른 $n$ 개에서 중복되지 않게 $r$ 개를 택하여 일렬로 나열하는 것을 $n$ 에서 $r$ 개를 택하는 순열이라 한다.

- 기호로 ${}_nP_r$ 으로 나타낸다. 

- 순열은 곱의 법칙에서 $a_1 = n, a_2 = n-1, \dots, a_r = n-r+1$ 로 순차적으로 $1$ 씩 줄어드는 경우이므로 그 값은 다음과 같다. 

    $$ \boxed{ {}_nP_r=n(n-1)(n-2)\times \dots \times (n-r+1) = \frac{n!}{(n-r)!} (단, 0 \leq r \leq n) } $$

- ${}_nP_0 = 1$ 이다. 

- 예시 

    학생 $6$ 명을 한줄로 세우려 하는 방법의 수는 

    $$ 6 \times 5 \times 4 \times 3 \times 2 \times 1 = 6! =720$$

    이다. 

- 예시 

    ${}_6P_3 = 6 \times 5 \times 4$

- 예시 

    남학생 $5$ 명과 여학생 $3$ 명을 줄을 세우려 한다. 

    여학생끼리 이웃하도록하는 줄을 세우는 방법의 수를 세보자. 

    그러면 여학생 $3$ 명을 순서를 정렬할 때 하나의 개체로 둘 수 있으므로 남학생을 포함하여 $6$ 을 줄 세우는 경우 

    $$ 6! = 720 $$

    에 여학생 $3$ 명을 그 안에서 줄을 세우는 경우 

    $$ 3! = 6 $$

    에 곱의 법칙을 적용하여 

    $$ \therefore  720 \times 6 = 4320 $$

    이다. ■ 

    한편 여학생끼리 이웃하지 않도록 줄을 세우는 방법의 수를 세보자. 

    그러면 남학생이 먼저 줄을 세운 후 그 사이와 양 끝에 여학생이 들어가는 경우를 세면 되므로 

    남학생의 줄을 세운 경우의 수 

    $$ 5! = 120 $$

    에 남학생 사이의 공간과 양끝의 공간 $6$ 개 중에서 $3$ 개를 택하여 일렬로 나열하는 경우 

    $$ {}_{6}P_{3} = 120 $$

    에 곱의 법칙을 적용하여 

    $$ \therefore 120 \times 120 = 14400 $$

    을 얻는다. ■

!!! def ""

    원순열(circular permutation) : 서로 다른 $n$ 개를 원형으로 배열하는 경우의 수
    
    $$ \boxed{ \frac{{}_{n}P_{n}}{n} = \frac{n!}{n} = (n-1)! } $$
    
    이다.

- 증명 

    원순열은 서로 다른 것을 일렬로 나열하는 것이 아닌 원형으로 배열하는 것이다.

    나열해야 할 원소를 $a_1, a_2, \dots, a_n$ 이라고 하자. 

    이때 서로 다른 $n$ 개를 일렬로 나열하는 하나의 경우의 수

    $$ (a_1, a_2, a_3, \dots, a _{n-1}, a_n) $$

    를 생각하자. 그리고 이 나열에서 모든 원소를 한칸씩 왼쪽으로 밀려나게 한 경우의 수들

    $$ (a_2, a_3, a_4, \dots, a _{n}, a_1) $$

    $$ (a_3, a_4, a_5, \dots, a _1, a_2) $$

    $$ \vdots $$

    $$ (a_n, a_1, a_2, \dots, a _{n-2}, a _{n-1}) $$

    을 생각하자. 그런데 이 나열들의 양끝을 이어주기만 하면 원형의 나열이 되므로

    원순열에서 위 $n$ 개의 나열 방법은 서로 같은 것이 된다. 

    그러므로 원순열의 경우의 수는 서로 다른 $n$ 개를 일렬로 나열한 것에서 $n$ 을 나눈 

    $$ \frac{n!}{n} = (n-1)! $$

    이다. ■ 

- 예시 

    사람 $A, B, C, D$ 가 있다. 이때 $A, B$ 가 서로 이웃하면서 사람들을 원형으로 배열하는 경우의 수를 구해보자.

    먼저 $A, B$ 가 반드시 이웃해야 하므로 순서를 배치함에 있어서 하나의 개체로 생각할 수 있다. 따라서 $3$ 명의 원순열은 

    $$ 2! = 2 $$

    이고 $A, B$ 가 자리를 바꾸는 경우 

    $$ 2! = 2 $$

    에 곱의 법칙을 적용하여

    $$ \therefore 2 \times 2 = 4 $$

    이다. ■

!!! def ""

    중복순열(복원추출)(repeated permutation) : 서로 다른 $n$ 개에서 중복을 허락하여 $r$ 개를 택하여 일렬로 나열하는 것을 $n$ 개에서 $r$ 개를 택하는 경우의 수 
    
    $$ \boxed{ {}_{n}\Pi_{r} = n \times n \times \dots \times n = n ^{r} } $$
    
    이다.

- 그러나 사실상 순열과 중복순열이라는 개념은 없고 곱의 법칙만 있을 뿐이라고 생각해도 된다.

    모든 것은 결국 합의 법칙과 곱의 법칙으로 귀결된다. 

- 증명 

    서로 다른 $n$ 개에서 중복을 허락하며 $r$ 개를 택하여 일렬로 나열하는 것이다.

    앞에서부터 차례대로 올 수 있는 경우의 수는 항상 $n$ 가지이고 

    곱의 법칙에 의하여 서로 다른 $r$ 개를 택하는 경우는 

    $$ \underbrace{n \times n \times \dots \times n}_{\text{r 개}} = n ^{r} = {}_{n}\Pi_{r}$$

    이다. ■ 

- 예시 

    서로 다른 $5$ 통의 편지를 $4$ 개의 우체통에 넣는 방법의 수를 구해보자. 

    중복이 허락되므로 편지를 $4$ 개의 우체통에 넣는 가지수는 매번 $4$ 개이다.

    이것을 $5$ 번 반복하므로 곱의 법칙에 의하여 

    $$ \underbrace{4 \times 4 \times \dots \times 4}_{5 번} = 4 ^{5} = {}_{4}\Pi_{5} $$

    이다. 따라서 

    $$ \therefore  {}_{4}\Pi_{5} = 1024 $$

    이다. ■

!!! def ""

    같은 것이 있는 순열 : $n$ 개 중에 서로 같은 것이 각각 $p$ 개, $q$ 개, $\dots$, $r$ 개씩 있고 $p + q + \dots + r = n$ 일 때 
    
    $n$ 개를 일렬로 나열하는 방법의 수는 
    
    $$ \frac{n!}{p!q! \dots r!} $$
    
    이다.

- 증명 

    $5$ 개의 문자 $a,a,a,b,b$ 를 일렬로 나열하는 경우를 생각하자. 

    이것은 $5$ 개의 문자를 먼저 모두 일렬로 나열한 다음 중복되는 순서를 제거하면 된다. 

    $5$ 개의 문자를 일렬로 나열하는 경우는 

    $$ 5! $$

    이다. 여기에서 $3$ 개의 $a$ 가 나열되면서 $3!$ 만큼 중복되었으므로 $a$ 가 일렬로 나열된 경우의 수를 나누어서

    $$ \frac{5!}{3!} $$

    로 만든다. 또한 $2$ 개의 $b$ 가 나열되면서 $2!$ 만큼 중복되었으므로 $b$ 가 일렬로 나열된 경우의 수를 나누어서

    $$ \frac{5!}{3!2!} $$

    로 만든다. ■ 

    이 과정을 일반적으로 생각하면 $n$ 개 중에 서로 같은 것이 $p$ 개, $q$ 개, $\dots$, $r$ 개씩 있을 때 즉,

    $$ p + q + \dots + r = n $$ 일때

    $n$ 개를 일렬로 나열하는 방법은 

    $$ \therefore \frac{n!}{p!q! \dots r!} $$

    이다. ■ 

- 예시 

    $8$ 개의 문자 $a, a, a, b, b, b, c, c$ 를 일렬로 나열하는 경우의 수는 

    $8$ 개의 문자를 일렬로 나열하는 경우 $8!$ 에서 중복되는 $3$ 개의 $a$, $3$ 개의 $b$, $2$ 개의 $c$ 의 나열을 제거한 

    $$ \therefore  \frac{8!}{3!3!2!} = 560 $$

    이다. ■ 

## 조합

!!! def ""

    조합(combination) : 서로 다른 $n$ 개에서 순서를 생각하지 않고 중복되지 않게 $r$ 개를 택하는 것을 $n$ 개에서 $r$ 개를 택하는 조합
    
    $$ \boxed{ {}_nC_r=\frac{{}_nP_r}{r!} = \binom{n}{r} = \frac{n!}{(n-r)!r!} (단, 0 \leq r \leq n) }$$ 
    
    이다.

- 기호로 ${}_nC_r$ 또는 $\displaystyle \binom{n}{r}$ 로 나타낸다. 

- 순열에서 $r$ 개의 순서를 제거한 것이기 때문에 

    $$ {}_nC_r=\frac{{}_nP_r}{r!} (단, 0 \leq r \leq n) $$

    로도 나타낼 수 있다.

- 순서를 생각하지 않고 $n$ 개에서 $r$ 개를 택하는 것이기에 조합은 $n$ 개의 원소를 가지는 전체집합에서 원소가 $r$ 개인 부분집합의 개수를 찾는 것과 같다.

- 조합의 정의에서 다음 관계가 생성된다. 

    1. ${}_nC_0=1$ 

        $\because$ 원소가 $0$ 개인 부분집합은 공집합 뿐이기 때문이다.

    2. ${}_nC_n = 1$ 

        $\because$ 원소가 $n$ 개인 부분집합은 전제집합 뿐이기 때문이다.

    3. ${}_nC_1 = n$ 

        $\because$ 원소가 $1$ 개인 부분집합은 $n$ 개이기 때문이다.

    4. ${}_nC_r = {}_nC_{n-r}$  

        $\because$ 원소가 $r$ 개인 부분집합 $A$ 가 결정될 때마다 부분집합의 여집합 $A ^{c}=(U-A)$ 도 유일하게 결정되기 때문이다.

    5. ${}_{n}C_{r} = {}_{n-1}C_{r-1} + {}_{n-1}C_{r}(단, 1 \leq r < n)$

        $\because$ $n$ 개의 원소를 가지는 전체집합 $U$ 의 첫번째 원소를 $a$ 라 할 때 원소가 $r$ 개인 부분집합의 개수 ${}_{n}C_{r}$ 다음 두 경우로 분할하여 단순화시킬 수 있다. 

        원소 $a$ 를 포함하는 경우 : 원소 $a$ 를 불변요소로 단순화시켰기 때문에 사고대상영역에서 $a$ 를 제거해도 된다. 그러면 $n-1$ 의 집합에서 $r-1$ 개의 부분집합의 개수는 ${}_{n-1}C_{r-1}$ 이다.

        원소 $a$ 를 포함하지 않는 경우 : 위와 같은 논리로 $n-1$ 의 집합에서 $r$ 개의 부분집합의 개수는 ${}_{n-1}C_{r}$ 이다. 

        이 경우 불변요소에 다시 가변성을 부여하여 일반화시키는 것은 두 사건이 동시에 일어나지 않으므로 합의 법칙에 의하여 단순히 더해주는 것이다. 따라서 ${}_{n}C_{r} = {}_{n-1}C_{r-1} + {}_{n-1}C_{r}(단, 1 \leq r < n)$ 이다. 

- 예시 

    $5$ 명의 학생 "$A, B, C, D, E$" 중 청소를 할 $2$ 명의 학생을 선택할 경우의 수는 순서를 고려하지 않으므로 ${}_{5}C_{2} = \dfrac{5 \times 4}{2 \times 1}$ 이다. 

- 시행에서 사건을 결과의 집합이라 했었는데 사건을 파악하기 위하여 수학 기호로 추상화시켜 표현해야 한다. 이때 동시에 일어나는 사건은 순서가 있는 순서쌍 $(1,1),(3,5)$ 으로 표현한다. 순열도 순서가 있는 사건을 표현해야 하므로 순서쌍으로 표기하면 된다. 반면 조합은 순서가 상관 없기에 시행의 결과를 $\{A,B\} \{A, C\}$ 같이 집합으로 표현하면 된다. 집합은 $\{A,B\}=\{B,A\}$ 이기 때문이다.

!!! def ""

    중복조합(repeated combination) : 서로 다른 $n$ 개에서 순서를 생각하지 않고 중복을 허락하여 $r$ 개를 택하는 경우의 수
    
    $$ \boxed{ {}_{n}H_{r} = {}_{n+r-1}C_{r} }  $$
    
    이다.

- 증명 

    중복조합이란 조합에서 중복 선택을 허용하는 것이다. 

    먼저 중복조합의 단순한 샘플을 살펴보면서 경우의 수를 알아낼 수 있는 방법을 생각해보자. 

    $3$ 개의 숫자 $1, 2, 3$ 에서 중복적으로 $2$ 개를 택하는 중복조합 ${}_{3}H_{2}$ 은 다음과 같다. 

    $$ \{1,1\},\{1,2\},\{1,3\},\{2,2\},\{2,3\},\{3,3\} $$

    중복조합, 즉 조합은 순서가 없기에 집합으로 표현했다. 이제 첫번째 자리에 $0$ 을, 두번째 자리에 $1$ 을 각각 더하면 다음과 같다. 

    $$ \{1,2\},\{1,3\},\{1,4\},\{2,3\},\{2,4\},\{3,4\} $$

    그런데 이것은 $4$ 개의 숫자 $1, 2, 3, 4$ 에서 $2$ 개를 택하는 조합의 경우 ${}_{4}C_{2}$ 와도 같다. 

    따라서 

    $$ \therefore  {}_{3}H_{2} = {}_{4}C_{2} $$

    이다. ■ 

    이제 이것을 일반화하여 생각하자.

    그러면 $n$ 개의 숫자 $1, 2, 3, \dots, n$ 에서 중복적으로 $r$ 개를 택하는 경우의 수 ${}_{n}H_{r}$ 는 다음과 같다.

    $$ \{1,1,1, \dots, 1\} \\ \{1,1,1, \dots, 2\} \\ \vdots \\ \{2,2,2, \dots, 2\} \\ \vdots \\ \underbrace{\{n,n,n, \dots, n\}}_{\text{r개}}  \\ $$

    여기에서 각 자리에 각각 

    $$ 0, 1, 2, \dots, r-1 $$

    을 더하면

    $$ \{1,2,3, \dots, r\} \\ \{1,2,3, \dots, r+1\} \\ \vdots  \\ \{2,3,4, \dots, r+1\} \\ \vdots \\ \underbrace{\{n,n+1,n+2, \dots, n+r-1\}}_{\text{r개}}  \\ $$

    을 얻을 수 있는데 이것은 $n+r-1$ 의 숫자에서 $r$ 개를 택하는 조합 ${}_{n+r-1}C_{r}$ 와 같다.

    따라서 

    $$ \therefore  {}_{n}H_{r} = {}_{n+r-1}C_{r} $$

    이다. ■

!!! def ""

    순열, 중복순열, 조합, 중복조합의 비교 
    
    | | 중복 X | 중복 O |
    |:---:|:---:|:---:|
    | 순서 O  | 순열 ${}_{n}P_{r} = \dfrac{n!}{(n-r)!}$  | 중복순열 ${}_{n}\Pi_{r} = n ^{r}$ |
    | 순서 X  | 조합 ${}_{n}C_{r}= \dfrac{n!}{(n-r)!r!}$  | 중복조합 ${}_{n}H_{r} = {}_{n+r-1}C_{r}$ |

- 예시 

    $a, b, c$ 에서 $2$ 개를 뽑는 각각의 경우를 비교해보자. 

    - 순열 

        서로 다른 $3$ 개에서 순서를 고려하여 중복되지 않게 $2$ 개를 선택하는 경우는 

        $$ab, ba, ac, ca, bc, cb \to {}_{3}P_{2} = 3 \times 2 = 6$$

        이다.

    - 중복순열 

        서로 다른 $3$ 개에서 순서를 고려하여 중복을 허락하여 $2$ 개를 선택하는 경우는 

        $$ab, ba, ac, ca, bc, cb, aa, bb, cc \to {}_{3}\Pi_{2} = 3 ^{2}  = 9$$

        이다.

    - 조합

        서로 다른 $3$ 개에서 순서를 고려하지 않고 중복되지 않게 $2$ 개를 선택하는 경우는 

        $$ab, ac, ca \to {}_{3}C_{2} = \frac{{}_{3}P_{2}}{2!} = \frac{3 \times 2}{2!}  = 3$$

        이다.

    - 중복조합

        서로 다른 $3$ 개에서 순서를 고려하지 않고 중복을 허락하여 $2$ 개를 선택하는 경우는 

        $$ab, ac, ca, aa, bb, cc \to {}_{3}H_{2} = {}_{3 + 2 - 1}C_{2} = {}_{4}C_{2} = 6$$

        이다.

## 이항정리

!!! def ""

    이항정리(binomial theorem) : 자연수 $n$ 에 대하여 $(a + b) ^{n}$ 을 전개하면 
    
    $$ \boxed{ (a+b) ^{n} = {}_{n}C_{0}a ^{n} + {}_{n}C_{1}a ^{n-1}b + {}_{n}C_{2}a ^{n-2}b ^{2}+ \dots + {}_{n}C_{r}a ^{n-r}b ^{r} + \dots + {}_{n}C_{n}b ^{n} = \sum_{r=0}^{n} {}_{n}C_{r} a ^{n-r} b ^{r} } $$ 
    
    이다.

- 증명 

    $(a + b) ^{3}$ 의 전개식은 다음과 같다. 

    $$ (a+b) ^{3} = a ^{3} + 3 a ^{2}b + 3 a b ^{2} + b ^{3} $$

    이때 $a ^{2}b$ 의 계수 $3$ 만 두고 생각해보자.

    이 $3$ 은 $3$ 개의 인수 $(a+b),(a+b),(a+b)$ 에서 $b$ 를 $1$ 개 택하고 $a$ 를 $2$ 개 택한 후 곱하여 $a ^{2}b$ 를 만든 것으로 볼 수 있다. 

    이것은 곧 $3$ 개의 인수 $(a+b),(a+b),(a+b)$ 에서 $b$ 를 $1$ 개 택하는 경우의 수 ${}_{3}C_{1}$ 과 같다. 이와 같은 관점으로 각각의 계수를 $b$ 를 택하는 조합의 경우의 수로 바라보자. 

    - $a ^{3}$ 의 계수는 $3$ 개의 인수 $(a+b),(a+b),(a+b)$ 에서 $b$ 를 $0$ 개 택하는 경우의 수 ${}_{3}C_{0} = 1$ 이다. 

    - $a ^{2}b$ 의 계수는 $3$ 개의 인수 $(a+b),(a+b),(a+b)$ 에서 $b$ 를 $1$ 개 택하는 경우의 수 ${}_{3}C_{1} = 3$ 이다. 

    - $ab^{2}$ 의 계수는 $3$ 개의 인수 $(a+b),(a+b),(a+b)$ 에서 $b$ 를 $2$ 개 택하는 경우의 수 ${}_{3}C_{0} = 3$ 이다. 

    - $b ^{3}$ 의 계수는 $3$ 개의 인수 $(a+b),(a+b),(a+b)$ 에서 $b$ 를 $3$ 개 택하는 경우의 수 ${}_{3}C_{3} = 1$ 이다. 

    그러므로 $(a + b) ^{3}$ 의 전개식은 

    $$ \therefore  (a+b) ^{3} = {}_{3}C_{0} a ^{3} + {}_{3}C_{1} a ^{2}b + {}_{3}C_{2} a b ^{2} + {}_{3}C_{3} b ^{3} $$ 

    이다. ■ 

    이것을 $(a + b) ^{n}$ 에 적용할 수 있도록 일반화하여 생각하면 각각의 계수는 $n$ 개의 인수 $(a +b)$ 에서 $b$ 를 $r$ 개씩 택하여 곱한 ${}_{n}C_{r}$ 이다.

    따라서 $(a+b) ^{n}$ 의 전개식은 

    $$ \therefore  (a+b) ^{n} = {}_{n}C_{0}a ^{n} + {}_{n}C_{1}a ^{n-1}b + {}_{n}C_{2}a ^{n-2}b ^{2}+ \dots + {}_{n}C_{r}a ^{n-r}b ^{r} + \dots + {}_{n}C_{n}b ^{n} = \sum_{r=0}^{n} {}_{n}C_{r} a ^{n-r} b ^{r} $$ 

    이 된다. ■ 

- 예시 

    $(x+2) ^{5}$ 을 전개하면 

    $$ (x+2) ^{5} = \sum_{r=0}^{5}{}_{5}C_{r}x ^{5-r}2 ^{r} $$

    $$ = {}_{5}C_{0}x ^{5} + {}_{5}C_{1} x ^{4} \cdot 2 + {}_{5}C_{2} x ^{3} \cdot 2 ^{2} + {}_{5}C_{3}x ^{2} \cdot 2 ^{3} + {}_{5}C_{4} x \cdot 2 ^{4} + {}_{5}C_{5} 2 ^{5} $$

    $$ = x ^{5} + 10 x ^{4} + 40 x ^{3} + 80 x ^{2} + 80 x + 32 $$

    이다.

!!! def ""

    이항계수 : 이항정리의 정의에서 전개식 $(a+b) ^{n}$ 의 계수들
    
    $$ \boxed{ {}_{n}C_{0}, {}_{n}C_{1}, {}_{n}C_{2}, \dots , {}_{n}C_{r}, \dots , {}_{n}C_{n} }$$ 
    
    을 이항계수라 한다.



!!! def ""

    전개식의 일반항 : 이항정리의 정의에서 전개식 $(a+b) ^{n}$ 의 일반항 
    
    $${}_{n}C_{r} a ^{n-r} b ^{r}$$
    
    이다.

- 예시 

    $(x - 5y) ^{8}$ 의 전개식에서 $x ^{5} y ^{3}$ 의 계수를 구해보자. 

    먼저 전개식의 일반항은 

    $$ {}_{8}C_{r}x ^{8-r}(-5y) ^{r} = {}_{8}C_{r}(-5) ^{r}x ^{8-r}y ^{r} $$

    이다. 

    이때 $r =3$ 이면 

    $$ {}_{8}C_{3}(-5)^{3}x ^{5} y ^{3} = 56 \times (-125)x ^{5}y ^{3} = -7000 x ^{5} y ^{3} $$

    이므로 계수는 $-7000$ 이다. ■

!!! def ""

    삼항정리(trinomial theorem)  : 자연수 $n$ 에 대하여 $(a + b + c) ^{n}$ 의 전개식에서 $p+q+r = n$ 에 대한 $a ^{p}b ^{q} c ^{r}$ 일반항은
    
    $$ \boxed{ {}_{n}C_{p} \cdot {}_{n-p}C_{q} \cdot {}_{r}C_{r} a ^{p} b ^{q} c ^{r} = \frac{n!}{p!q!r!} {}_{r}C_{r} a ^{p} b ^{q} c ^{r} } $$
    
    이다.

- 증명 

    자연수 $n$ 에 대하여 $(a + b + c) ^{n}$ 의 전개식에서 $p+q+r = n$ 에 대한 $a ^{p}b ^{q} c ^{r}$ 의 계수는 

    $n$ 개의 인수 $(a+b+c)$ 에서 $p$ 개의 인수에서 $a$ 를, $q$ 개의 인수에서 $b$ 를, $r$ 개의 인수에서 $c$ 를 택하는 조합이다.

    따라서 $n$ 개에서 $p$ 개를 택하고 $(n-p)$ 개에서 $q$ 개를 택하고 나머지 $r$ 개에서 $r$ 개를 택하는 조합의 경우의 수 

    $$ {}_{n}C_{p} \cdot {}_{n-p}C_{q} \cdot {}_{r}C_{r} $$

    가 된다. 

    그런데 이것은 $n$ 개 중에서 서로 같은 $p$ 개, 서로 같은 $q$ 개, 서로 같은 $r$ 개를 택하여 일렬로 나열하는 경우와 같다. 왜냐하면 같은 것이 있는 순열은 같은 것들에 대하여 순서가 없으므로 조합으로 생각할 수 있기 때문이다.

    예를 들어서 같은 것이 있는 $7$ 개의 문자 $a,a,a,b,b,c,c$ 를 일렬로 나열하는 경우의 수는 물론

    $$ \frac{7!}{3!2!2!} $$

    이다.

    하지만 이것은 $7$ 개의 빈칸에서 $3$ 개를 택하여 $a$ 를 넣고, 남은 자리에서 $2$ 개를 택하여 $b$ 를 넣고, 남은 자리에서 $2$ 개를 택하여 $c$ 를 넣는 경우로 볼 수 있으므로 

    $$ {}_{7}C_{3} \times {}_{4}C_{2} \times {}_{2}C_{2} = \frac{7!}{3!4!} \times \frac{4!}{2!2!} \times 1 = \frac{7!}{3!2!2!} $$

    이 된다.

    이에 따라

    $$ {}_{n}C_{p} \cdot {}_{n-p}C_{q} \cdot {}_{r}C_{r} = \frac{n!}{p!q!r!}$$

    이므로 

    최종적으로 $(a + b + c) ^{n}$ 의 전개식에서 $p+q+r = n$ 에 대한 $a ^{p}b ^{q} c ^{r}$ 일반항은

    $$ \therefore {}_{n}C_{p} \cdot {}_{n-p}C_{q} \cdot {}_{r}C_{r}a ^{p}b ^{q}c ^{r} = \frac{n!}{p!q!r!} a ^{p}b ^{q} c ^{r} $$

    이다. ■

!!! def ""

    이항계수의 성질 : 이항계수는 다음 성질을 갖는다. 
    
    1. ${}_{n}C_{0} + {}_{n}C_{1} + {}_{n}C_{2} + \dots + {}_{n}C_{n} = 2 ^{n}$
    
    2. ${}_{n}C_{0} - {}_{n}C_{1} + {}_{n}C_{2} - {}_{n}C_{3} + \dots + (-1)^{n} \cdot  {}_{n}C_{n} = 0$
    
    3. ${}_{n}C_{0} + {}_{n}C_{2} + {}_{n}C_{4} + \dots = 2 ^{n-1}$
    
    4. ${}_{n}C_{1} + {}_{n}C_{3} + {}_{n}C_{5} + \dots = 2 ^{n-1}$
    
    5. ${}_{n}C_{0} + 2 \cdot  {}_{n}C_{1} + 3 \cdot  {}_{n}C_{2} + \dots + n \cdot  {}_{n}C_{n} = n \cdot 2 ^{n}$
    
    6. ${}_{n}C_{0} - 2 \cdot  {}_{n}C_{1} + 3 \cdot  {}_{n}C_{2} - \dots + (-1)^{n-1} n \cdot  {}_{n}C_{n} = 0$
    
    7. ${}_{n}C_{0} + \dfrac{{}_{n}C_{1} }{2} + \dfrac{{}_{n}C_{2}}{3}  + \dots + \dfrac{{}_{n}C_{n} }{n+1} = \dfrac{1}{n+1}(2 ^{n+1}-1)$

- 증명 

    이항정리에서 $(1+x) ^{n}$ 을 전개하면 

    $$ (1+x) ^{n} = {}_{n}C_{0}x ^{0} + {}_{n}C_{1} x ^{1} + {}_{n}C_{2} x ^{2} + \dots + {}_{n}C_{r} x ^{r} + \dots + {}_{n}C_{n} x ^{n} $$

    을 얻는다.

    여기에서 $x=1$ 이면 

    $$\therefore  {}_{n}C_{0} + {}_{n}C_{1} + {}_{n}C_{2} + \dots + {}_{n}C_{n} = 2 ^{n} \tag{1} $$ 

    이다. ■ 

    $x=-1$ 이면 

    $$\therefore  {}_{n}C_{0} - {}_{n}C_{1} + {}_{n}C_{2} - {}_{n}C_{3} + \dots + (-1)^{n} \cdot  {}_{n}C_{n} = 0 \tag{2} $$ 

    이다. ■ 

    $((1) + (2)) \div 2$ 을 하면

    $$\therefore  {}_{n}C_{0} + {}_{n}C_{2} + {}_{n}C_{4} + \dots = 2 ^{n-1}$$

    이다. ■ 

    $((1) - (2)) \div 2$ 을 하면

    $$ \therefore {}_{n}C_{1} + {}_{n}C_{3} + {}_{n}C_{5} + \dots = 2 ^{n-1}$$

    이다. ■ 

    한편 $(1+x) ^{n}$ 을 $x$ 에 대하여 미분하면 

    $$ n(1+x) ^{n-1} = {}_{n}C_{1} + 2 \cdot  {}_{n}C_{2} x + \dots + r \cdot  {}_{n}C_{r} x ^{r-1} + \dots + n \cdot  {}_{n}C_{n} x ^{n-1} $$

    을 얻는다.

    여기에서 $x=1$ 이면 

    $$ \therefore  {}_{n}C_{0} + 2 \cdot  {}_{n}C_{1} + 3 \cdot  {}_{n}C_{2} + \dots + n \cdot  {}_{n}C_{n} = n \cdot 2 ^{n}$$

    이다. ■ 

    $x=-1$ 이면 

    $$\therefore  {}_{n}C_{0} - 2 \cdot  {}_{n}C_{1} + 3 \cdot  {}_{n}C_{2} - \dots + (-1)^{n-1} n \cdot  {}_{n}C_{n} = 0$$

    이다. ■ 

    한편 $(1+x) ^{n}$ 을 구간 $[0, 1]$ 에서 적분하면 

    $$ \int_{0}^{1}(1+x) ^{n}dx = \int_{0}^{1}\{ {}_{n}C_{0}x ^{0} + {}_{n}C_{1} x ^{1} + {}_{n}C_{2} x ^{2} + \dots + {}_{n}C_{r} x ^{r} + \dots + {}_{n}C_{n} x ^{n} \}dx $$

    $$ \bigg [ \frac{1}{n+1}(1+x) ^{n+1} \bigg ] ^{1} _{0} = \bigg [ {}_{n}C_{0}x + \dfrac{{}_{n}C_{1} }{2} x ^{2} + \dfrac{{}_{n}C_{2}}{3} x ^{3}  + \dots + \dfrac{{}_{n}C_{n} }{n+1} x ^{n+1} \bigg ] ^{1}_{0} $$

    $$ \therefore {}_{n}C_{0} + \dfrac{{}_{n}C_{1} }{2} + \dfrac{{}_{n}C_{2}}{3}  + \dots + \dfrac{{}_{n}C_{n} }{n+1} = \dfrac{1}{n+1}(2 ^{n+1}-1) $$

    이다. ■ 

- 예시 

    $$ \log_{2} ({}_{2008}C_{1} + {}_{2008}C_{3} + {}_{2008}C_{5} + \dots + {}_{2008}C_{2007}) $$

    에서 

    $$ {}_{2008}C_{1} + {}_{2008}C_{3} + {}_{2008}C_{5} + \dots + {}_{2008}C_{2007} = 2 ^{2008 -1} = 2 ^{2007} $$

    이므로 

    $$ \log_{2} ({}_{2008}C_{1} + {}_{2008}C_{3} + {}_{2008}C_{5} + \dots + {}_{2008}C_{2007}) = \log_{2} 2 ^{2007} = 2007 $$

    이다. ■